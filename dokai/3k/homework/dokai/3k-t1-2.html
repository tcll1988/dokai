<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>第3課-単語2</title>
<style type="text/css">
.main {
	font-family: SimSun;
}
.japanese {
	font-family: ＭＳ 明朝;
}
.chinese {
	font-family: SimSun;
}
body,td,th {
	font-size: 24px;
}
a:link {
	color: #03F;
}
a:visited {
	color: #03F;
}
</style>
<script>

</script>
</head>
<body>

<!--背景の色 -->
<style>
body{background-color:lightblue; font-family:sans-serif;}
</style>
<div>
<h1 align="center">
第3課　我家有四口人　
<h1>
</div>
<div>
<table id="title" align="center">
  <tr>
      <td>
          <lable>表示選択</lable>
      </td>
      <td class="selecter">
		  <select name="select" onchange="setViewItem(this.value)" id="language_1">
		    <option value="chinese" selected>中国語 </option>
		    <option value="japanese">中国語+日本語 </option>
		    <option value="pinyin">中国語+ピンイン </option>
		    <option value="everything" >全部 </option>
		  </select>
     </td>
<td>
          <input type="button" value="全文朗読" onclick="playAllRadioList(3)"/>
      </td>
<td>
          <input type="button" value="終了" onclick="myrefresh()"/>
      </td>
      <!-- <td> <a href="1k-t2-1.html">補充単語</a></td> -->
            
      
      <td>
          <a href="../../3k.html">戻る</a> 
      </td>
  </tr>
</table>
</div>
<div>
<table align="center">


  <tr id="ch_1">
    <td id="td_ch">
      
        <lable id="d1-3k-t-10_ch" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　医院 </font></lable>	
        <br>
        <lable id="d1-3k-t-11_ch" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　学校 </font></lable>	
        <br>
        <lable id="d1-3k-t-12_ch" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　这　</font></lable>	
        <br>
        <lable id="d1-3k-t-13_ch" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　名古屋 </font></lable>	
        <br>
        <lable id="d1-3k-t-14_ch" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　房间 </font></lable>	
        <br>
        <lable id="d1-3k-t-15_ch" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　二楼　</font></lable>	
        <br>
        <lable id="d1-3k-t-16_ch" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　一楼　</font></lable>	
        <br>
        <lable id="d1-3k-t-17_ch" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　两本　</font></lable>   
        <br>
        <lable id="d1-3k-t-18_ch" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　词典　</font></lable>	
        <br> 
        <lable id="d1-3k-t-19_ch" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　一本　</font></lable>	
        <br>            
      </td>
      <td id="td_py" style="display:none" >
        <lable id="d1-3k-t-10_py" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　yīyuàn　</font></lable>	
        <br>
        <lable id="d1-3k-t-11_py" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　xuéxiào　</font></lable>	
        <br>
        <lable id="d1-3k-t-12_py" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　zhè　</font></lable>	
        <br>
        <lable id="d1-3k-t-13_py" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　Mínggǔwū　</font></lable>	
        <br>
        <lable id="d1-3k-t-14_py" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　fángjiān　</font></lable>	
        <br>
        <lable id="d1-3k-t-15_py" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　èrlóu　</font></lable>	
        <br>
        <lable id="d1-3k-t-16_py" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　yīlóu　</font></lable>	
        <br>
        <lable id="d1-3k-t-17_py" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　liǎngběn　</font></lable>	
        <br>
        <lable id="d1-3k-t-18_py" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　cídiǎn　</font></lable><br>
        <lable id="d1-3k-t-19_py" class="chinese" onclick="fileStart(this.id)"><font face="simsun">　yìběn　</font></lable><br>
      </td>
      <td id="td_jp" style="display:none" >
       
 <lable id="d1-3k-t-10_jp" class="chinese" onclick="fileStart(this.id)"><font face="mincho">　病院 　</font></lable>	
        <br>
        <lable id="d1-3k-t-11_jp" class="chinese" onclick="fileStart(this.id)"><font face="mincho">　学校　</font></lable>	
        <br>
        <lable id="d1-3k-t-12_jp" class="chinese" onclick="fileStart(this.id)"><font face="mincho">　これ　</font></lable>	
        <br>
        <lable id="d1-3k-t-13_jp" class="chinese" onclick="fileStart(this.id)"><font face="mincho">　名古屋 　</font></lable>	
        <br>
        <lable id="d1-3k-t-14_jp" class="chinese" onclick="fileStart(this.id)"><font face="mincho">　部屋 　</font></lable>	
        <br>
        <lable id="d1-3k-t-15_jp" class="chinese" onclick="fileStart(this.id)"><font face="mincho">　二階 　</font></lable>	
        <br>
        <lable id="d1-3k-t-16_jp" class="chinese" onclick="fileStart(this.id)"><font face="mincho">　一階　</font></lable>	
        <br>
        <lable id="d1-3k-t-17_jp" class="chinese" onclick="fileStart(this.id)"><font face="mincho">　二冊　</font></lable>	
        <br>
        <lable id="d1-3k-t-18_jp" class="chinese" onclick="fileStart(this.id)"><font face="mincho">　辞書　</font></lable> <br>  
        <lable id="d1-3k-t-19_jp" class="chinese" onclick="fileStart(this.id)"><font face="mincho">　一冊　</font></lable>	           
      </td>
   </tr>
   <tr height="20"></tr>
   <tr>
    <td><a href="3k-t1-1.html">前へ</a>　　　　　　　　</td>
   </tr>
</table>
</div>
<!-- AUDIO CREATE START -->
<audio id="audiolocal" ></audio>
<!-- AUDIO CREATE END -->

<script>

// メディアプレイヤー
var oAudio  = document.getElementById('audiolocal');
// var audio = document.createElement("audio");

// 前回文字ID
var idper = "";

// 言語表示
// lang:dropdownlistの選択値
function setViewItem(lang) {
    //TRのID
    var p_strIdCh = document.getElementById("td_ch");
    var p_strIdJp = document.getElementById("td_jp");
    var p_strIdPy = document.getElementById("td_py");
    if (lang == "chinese") {
        // 引数=chineseの時
        // TRを活性に設定
        p_strIdCh.style.display = '';
        // TRを非活性に設定
        p_strIdJp.style.display = 'none';
        // TRを非活性に設定
        p_strIdPy.style.display = 'none';
    } else if (lang == "japanese") {
        // 引数=japaneseの時
        // TRを非活性に設定
        p_strIdCh.style.display = '';
        // TRを活性に設定
        p_strIdJp.style.display = '';
        // TRを非活性に設定
        p_strIdPy.style.display = 'none';
    } else if (lang == "pinyin") {
        // 引数=pinyinの時
        // TRを非活性に設定
        p_strIdCh.style.display = '';
        // TRを非活性に設定
        p_strIdJp.style.display = 'none';
        // TRを活性に設定
        p_strIdPy.style.display = '';
        }else if (lang == "everything") {
        // 引数=pinyinの時
        // TRを非活性に設定
        p_strIdCh.style.display = '';
        // TRを非活性に設定
        p_strIdJp.style.display = '';
        // TRを活性に設定
        p_strIdPy.style.display = '';
}};


// 全部再生
function playAllRadioList(raditCnt) {
	// radioファイル配列
    var radioArgs = new Array('d1-3k-t-10', 'd1-3k-t-11', 'd1-3k-t-12', 'd1-3k-t-13', 'd1-3k-t-14', 'd1-3k-t-15', 'd1-3k-t-16', 'd1-3k-t-17', 'd1-3k-t-18', 'd1-3k-t-19');
   
    // ファイル再生を呼出
    // 0は固定値
	doRadioFile(radioArgs, 0);
};

// ファイル再生
function doRadioFile(radioArgs, index) {
  
  // 前回文字の色を戻り
    addColorToStr(idper, 'black');

    
    // ファイル終了判断
    if (index >= radioArgs.length) {
        // 再生終了
        return;
    }
	// '.mp3'
	var lastStr = '.mp3';
    // 本ファイル名
	var filename = radioArgs[index].concat(lastStr);
	

	// フォルダ
	var folderPath = 'sound/';
	// フルパス
	var filePath = folderPath.concat(filename);
	
	// NEW 新プレヤー
	// oAudio = new Audio(filePath)

	oAudio.src = filePath;
    // ファイル再生処理
	oAudio.play();

    // 前回文字IDを設定
	idper = radioArgs[index];

    // 文字色を設定
    addColorToStr(radioArgs[index], 'red');


	oAudio.addEventListener("ended", function(){
        // 文字色を削除
        addColorToStr(radioArgs[index], 'black');
        index = index+1;
        doRadioFile(radioArgs, index);
	});

};

// アンダーバーを追加
function addColorToStr(strId, colorStr) {
    var strCh = "_ch";
    var strIdCh = strId.concat(strCh);
    
    var p_strIdCh = document.getElementById(strIdCh);
    if (p_strIdCh == undefined) {
        return;
    }
    
    // css追加
    p_strIdCh.style.color = colorStr;
   
};

    // 指定されたファイルを再生
    function fileStart(id) {

    // 前回文字の色を戻り
    addColorToStr(idper, 'black');

    // ファイル名称を取得
    var strs = id.split("_");
    if (strs.length > 0) {
		// '.mp3'
		var lastStr = '.mp3';
	    // 本ファイル名
		var filename = strs[0].concat(lastStr);
		// var oAudio  = document.createElement("oAudio ");
		// フォルダ
		var folderPath = 'sound/';
		// フルパス
		var filePath = folderPath.concat(filename);
		oAudio .src = filePath;
	    // ファイル再生処理
		oAudio .play();

	// 前回文字IDを設定
		idper = strs[0];
	    // 文字色を設定
	    addColorToStr(strs[0], 'red');
		oAudio .addEventListener("ended", function(){
	    　　// 文字色を削除
	        addColorToStr(strs[0], 'black');
	        
	        { 
    // 前回radio停止
    oAudio.pause();
    // 前回文字の色を戻り
    addColorToStr(idper, 'black');
} 
		});
    }
}

// radioを終了
function myrefresh() 
{ 
    // 前回radio停止
    oAudio .pause();
    // 前回文字の色を戻り
    addColorToStr(idper, 'black');
} 

</script>
</body>
</html>
