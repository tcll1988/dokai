<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>第１課-単語</title>
<style type="text/css">
.main {
	font-family: SimSun;
}
.japanese {
	font-family: ＭＳ 明朝;
}
.chinese {
	font-family: SimSun;
}
body,td,th {
	font-size: 24px;
}
a:link {
	color: #03F;
}
a:visited {
	color: #03F;
}
</style>
<script>

</script>
</head>
<body>

<!--背景の色 -->
<style>
body{background-color:lightblue; font-family:sans-serif;}
</style>
<div>
<h1 align="center">
第１課　我姓山田　
<h1>
</div>
<div>
<table id="title" align="center">
  <tr>
      <td>
          <lable>表示選択</lable>
      </td>
      <td class="selecter">
		  <select name="select" onchange="setViewItem(this.value)" id="language_1">
		    <option value="chinese" selected>中国語 </option>
		    <option value="japanese">中国語+日本語 </option>
		    <option value="pinyin">中国語+ピンイン </option>
		    <option value="everything" >全部 </option>
		  </select>
     </td>
<td>
          <input type="button" value="全文朗読" onclick="playAllRadioList(3)"/>
      </td>
<td>
          <input type="button" value="終了" onclick="myrefresh()"/>
      </td>
  </tr>
</table>
</div>
<div>
<table align="center">


  <tr id="ch_1">
    <td id="td_ch">
      <lable id="d1-1k-t-1_ch" class="chinese" onclick="fileStart(this.id)">我</lable>	
        <br>
        <lable id="d1-1k-t-2_ch" class="chinese" onclick="fileStart(this.id)">姓</lable>	
        <br>
        <lable id="d1-1k-t-3_ch" class="chinese" onclick="fileStart(this.id)">山田</lable>	
        <br>
        <lable id="d1-1k-t-4_ch" class="chinese" onclick="fileStart(this.id)">叫</lable>	
        <br>
        <lable id="d1-1k-t-5_ch" class="chinese" onclick="fileStart(this.id)">山田爱子</lable>	
        <br>
        <lable id="d1-1k-t-6_ch" class="chinese" onclick="fileStart(this.id)">是</lable>	
        <br>
        <lable id="d1-1k-t-7_ch" class="chinese" onclick="fileStart(this.id)">不是</lable>	
        <br>
        <lable id="d1-1k-t-8_ch" class="chinese" onclick="fileStart(this.id)">爱知淑德大学</lable>	
        <br>
        <lable id="d1-1k-t-9_ch" class="chinese" onclick="fileStart(this.id)">的</lable>	
        <br>
        <lable id="d1-1k-t-10_ch" class="chinese" onclick="fileStart(this.id)">学生</lable>	
        <br>
        <lable id="d1-1k-t-11_ch" class="chinese" onclick="fileStart(this.id)">学习 </lable>	
        <br>
        <lable id="d1-1k-t-12_ch" class="chinese" onclick="fileStart(this.id)">中文</lable>	
        <br>
        <lable id="d1-1k-t-13_ch" class="chinese" onclick="fileStart(this.id)">喜欢</lable>	
        <br>
        <lable id="d1-1k-t-14_ch" class="chinese" onclick="fileStart(this.id)">弟弟</lable>	
        <br>
        <lable id="d1-1k-t-15_ch" class="chinese" onclick="fileStart(this.id)">山田一郎</lable>	
        <br>
        <lable id="d1-1k-t-16_ch" class="chinese" onclick="fileStart(this.id)">爱知大学</lable>	
        <br>
        <lable id="d1-1k-t-17_ch" class="chinese" onclick="fileStart(this.id)">他</lable>	
        <br>
        <lable id="d1-1k-t-18_ch" class="chinese" onclick="fileStart(this.id)">英文</lable>
      </td>
      <td id="td_py" style="display:none" >
        <lable id="d1-1k-t-1_py" class="chinese" onclick="fileStart(this.id)">wǒ</lable>	
        <br>
        <lable id="d1-1k-t-2_py" class="chinese" onclick="fileStart(this.id)">xìng</lable>	
        <br>
        <lable id="d1-1k-t-3_py" class="chinese" onclick="fileStart(this.id)">Shāntián</lable>	
        <br>
        <lable id="d1-1k-t-4_py" class="chinese" onclick="fileStart(this.id)">jiào</lable>	
        <br>
        <lable id="d1-1k-t-5_py" class="chinese" onclick="fileStart(this.id)">Shāntián Àizǐ</lable>	
        <br>
        <lable id="d1-1k-t-6_py" class="chinese" onclick="fileStart(this.id)">shì</lable>	
        <br>
        <lable id="d1-1k-t-7_py" class="chinese" onclick="fileStart(this.id)">búshì</lable>	
        <br>
        <lable id="d1-1k-t-8_py" class="chinese" onclick="fileStart(this.id)">Àizhīshūdédàxué  </lable>	
        <br>
        <lable id="d1-1k-t-9_py" class="chinese" onclick="fileStart(this.id)">de</lable>	
        <br>
        <lable id="d1-1k-t-10_py" class="chinese" onclick="fileStart(this.id)">xuésheng </lable>	
        <br>
        <lable id="d1-1k-t-11_py" class="chinese" onclick="fileStart(this.id)">xuéxí</lable>	
        <br>
        <lable id="d1-1k-t-12_py" class="chinese" onclick="fileStart(this.id)">Zhōngwén</lable>	
        <br>
        <lable id="d1-1k-t-13_py" class="chinese" onclick="fileStart(this.id)">xǐhuan</lable>	
        <br>
        <lable id="d1-1k-t-14_py" class="chinese" onclick="fileStart(this.id)">dìdi</lable>	
        <br>
        <lable id="d1-1k-t-15_py" class="chinese" onclick="fileStart(this.id)">Shāntián Yīláng</lable>	
        <br>
        <lable id="d1-1k-t-16_py" class="chinese" onclick="fileStart(this.id)">Àizhīdàxué</lable>	
        <br>
        <lable id="d1-1k-t-17_py" class="chinese" onclick="fileStart(this.id)">tā</lable>	
        <br>
        <lable id="d1-1k-t-18_py" class="chinese" onclick="fileStart(this.id)">Yīngwén </lable>
      </td>
      <td id="td_jp" style="display:none" >
        <lable id="d1-1k-t-1_jp" class="chinese" onclick="fileStart(this.id)">私，僕</lable>	
        <br>
        <lable id="d1-1k-t-2_jp" class="chinese" onclick="fileStart(this.id)">姓，～と言う（苗字）</lable>	
        <br>
        <lable id="d1-1k-t-3_jp" class="chinese" onclick="fileStart(this.id)">山田（苗字）</lable>	
        <br>
        <lable id="d1-1k-t-4_jp" class="chinese" onclick="fileStart(this.id)">～と言う（名前）</lable>	
        <br>
        <lable id="d1-1k-t-5_jp" class="chinese" onclick="fileStart(this.id)">山田愛子（名前）</lable>	
        <br>
        <lable id="d1-1k-t-6_jp" class="chinese" onclick="fileStart(this.id)">～だ</lable>	
        <br>
        <lable id="d1-1k-t-7_jp" class="chinese" onclick="fileStart(this.id)">～ではない</lable>	
        <br>
        <lable id="d1-1k-t-8_jp" class="chinese" onclick="fileStart(this.id)">愛知淑徳大学</lable>	
        <br>
        <lable id="d1-1k-t-9_jp" class="chinese" onclick="fileStart(this.id)">の</lable>	
        <br>
        <lable id="d1-1k-t-10_jp" class="chinese" onclick="fileStart(this.id)">学生</lable>	
        <br>
        <lable id="d1-1k-t-11_jp" class="chinese" onclick="fileStart(this.id)">勉強する </lable>	
        <br>
        <lable id="d1-1k-t-12_jp" class="chinese" onclick="fileStart(this.id)">中国語</lable>	
        <br>
        <lable id="d1-1k-t-13_jp" class="chinese" onclick="fileStart(this.id)">好きだ</lable>	
        <br>
        <lable id="d1-1k-t-14_jp" class="chinese" onclick="fileStart(this.id)">弟</lable>	
        <br>
        <lable id="d1-1k-t-15_jp" class="chinese" onclick="fileStart(this.id)">山田一郎</lable>	
        <br>
        <lable id="d1-1k-t-16_jp" class="chinese" onclick="fileStart(this.id)">愛知大学</lable>	
        <br>
        <lable id="d1-1k-t-17_jp" class="chinese" onclick="fileStart(this.id)">彼</lable>	
        <br>
        <lable id="d1-1k-t-18_jp" class="chinese" onclick="fileStart(this.id)">英語</lable>    
      </td>
   </tr>
</table>
</div>
<!-- AUDIO CREATE START -->
<audio id="audiolocal" ></audio>
<!-- AUDIO CREATE END -->

<script>

// メディアプレイヤー
var oAudio  = document.getElementById('audiolocal');
// var audio = document.createElement("audio");

// 前回文字ID
var idper = "";

// 言語表示
// lang:dropdownlistの選択値
function setViewItem(lang) {
    //TRのID
    var p_strIdCh = document.getElementById("td_ch");
    var p_strIdJp = document.getElementById("td_jp");
    var p_strIdPy = document.getElementById("td_py");
    if (lang == "chinese") {
        // 引数=chineseの時
        // TRを活性に設定
        p_strIdCh.style.display = '';
        // TRを非活性に設定
        p_strIdJp.style.display = 'none';
        // TRを非活性に設定
        p_strIdPy.style.display = 'none';
    } else if (lang == "japanese") {
        // 引数=japaneseの時
        // TRを非活性に設定
        p_strIdCh.style.display = '';
        // TRを活性に設定
        p_strIdJp.style.display = '';
        // TRを非活性に設定
        p_strIdPy.style.display = 'none';
    } else if (lang == "pinyin") {
        // 引数=pinyinの時
        // TRを非活性に設定
        p_strIdCh.style.display = '';
        // TRを非活性に設定
        p_strIdJp.style.display = 'none';
        // TRを活性に設定
        p_strIdPy.style.display = '';
        }else if (lang == "everything") {
        // 引数=pinyinの時
        // TRを非活性に設定
        p_strIdCh.style.display = '';
        // TRを非活性に設定
        p_strIdJp.style.display = '';
        // TRを活性に設定
        p_strIdPy.style.display = '';
}};


// 全部再生
function playAllRadioList(raditCnt) {
	// radioファイル配列
    var radioArgs = new Array('d1-1k-t-1', 'd1-1k-t-2', 'd1-1k-t-3', 'd1-1k-t-4', 'd1-1k-t-5', 'd1-1k-t-6', 'd1-1k-t-7', 'd1-1k-t-8', 'd1-1k-t-9', 'd1-1k-t-10', 'd1-1k-t-11', 'd1-1k-t-12', 'd1-1k-t-13', 'd1-1k-t-14', 'd1-1k-t-15', 'd1-1k-t-16', 'd1-1k-t-17', 'd1-1k-t-18');
   
    // ファイル再生を呼出
    // 0は固定値
	doRadioFile(radioArgs, 0);
};

// ファイル再生
function doRadioFile(radioArgs, index) {
  
  // 前回文字の色を戻り
    addColorToStr(idper, 'black');

    
    // ファイル終了判断
    if (index >= radioArgs.length) {
        // 再生終了
        return;
    }
	// '.mp3'
	var lastStr = '.mp3';
    // 本ファイル名
	var filename = radioArgs[index].concat(lastStr);
	

	// フォルダ
	var folderPath = 'sound/';
	// フルパス
	var filePath = folderPath.concat(filename);
	
	// NEW 新プレヤー
	oAudio = new Audio(filePath)

	// oAudio.src = filePath;
    // ファイル再生処理
	oAudio.play();

    // 前回文字IDを設定
	idper = radioArgs[index];

    // 文字色を設定
    addColorToStr(radioArgs[index], 'red');


	oAudio.addEventListener("ended", function(){
        // 文字色を削除
        addColorToStr(radioArgs[index], 'black');
        index = index+1;
        doRadioFile(radioArgs, index);
	});

};

// アンダーバーを追加
function addColorToStr(strId, colorStr) {
    var strCh = "_ch";
    var strIdCh = strId.concat(strCh);
    
    var p_strIdCh = document.getElementById(strIdCh);
    if (p_strIdCh == undefined) {
        return;
    }
    
    // css追加
    p_strIdCh.style.color = colorStr;
   
};

    // 指定されたファイルを再生
    function fileStart(id) {

    // 前回文字の色を戻り
    addColorToStr(idper, 'black');

    // ファイル名称を取得
    var strs = id.split("_");
    if (strs.length > 0) {
		// '.mp3'
		var lastStr = '.mp3';
	    // 本ファイル名
		var filename = strs[0].concat(lastStr);
		// var oAudio  = document.createElement("oAudio ");
		// フォルダ
		var folderPath = 'sound/';
		// フルパス
		var filePath = folderPath.concat(filename);
		oAudio .src = filePath;
	    // ファイル再生処理
		oAudio .play();

	// 前回文字IDを設定
		idper = strs[0];
	    // 文字色を設定
	    addColorToStr(strs[0], 'red');
		oAudio .addEventListener("ended", function(){
	    　　// 文字色を削除
	        addColorToStr(strs[0], 'black');
	        
	        { 
    // 前回radio停止
    oAudio .pause();
    // 前回文字の色を戻り
    addColorToStr(idper, 'black');
} 
		});
    }
}

// radioを終了
function myrefresh() 
{ 
    // 前回radio停止
    oAudio .pause();
    // 前回文字の色を戻り
    addColorToStr(idper, 'black');
} 

</script>
</body>
</html>
